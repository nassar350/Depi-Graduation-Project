<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000" width="1400" height="1000">
  <title>User Flow Diagram</title>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#f5f5f5"/>
  
  <!-- Title -->
  <text x="700" y="50" font-family="Arial" font-size="32" font-weight="bold" fill="#333" text-anchor="middle">Eventify User Flow - Booking Process</text>
  
  <!-- Start Node -->
  <ellipse cx="700" cy="120" rx="60" ry="30" fill="#28a745" stroke="#1e7e34" stroke-width="2"/>
  <text x="700" y="130" font-family="Arial" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">START</text>
  
  <!-- Arrow 1 -->
  <path d="M 700 150 L 700 190" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 1: Homepage -->
  <rect x="620" y="190" width="160" height="60" fill="#ffffff" rx="8" stroke="#7C5CFF" stroke-width="2"/>
  <text x="700" y="215" font-family="Arial" font-size="14" font-weight="bold" fill="#333" text-anchor="middle">Homepage</text>
  <text x="700" y="235" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">(index.html)</text>
  
  <!-- Arrow 2 -->
  <path d="M 700 250 L 700 290" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: Browse/Search Events -->
  <rect x="620" y="290" width="160" height="60" fill="#ffffff" rx="8" stroke="#7C5CFF" stroke-width="2"/>
  <text x="700" y="315" font-family="Arial" font-size="14" font-weight="bold" fill="#333" text-anchor="middle">Browse Events</text>
  <text x="700" y="335" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">(explore.html)</text>
  
  <!-- Arrow 3 -->
  <path d="M 700 350 L 700 390" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3: Event Detail -->
  <rect x="620" y="390" width="160" height="60" fill="#ffffff" rx="8" stroke="#7C5CFF" stroke-width="2"/>
  <text x="700" y="415" font-family="Arial" font-size="14" font-weight="bold" fill="#333" text-anchor="middle">Event Detail</text>
  <text x="700" y="435" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">(event.html)</text>
  
  <!-- Arrow 4 -->
  <path d="M 700 450 L 700 490" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Decision: Login Check -->
  <polygon points="700,490 780,530 700,570 620,530" fill="#FFF3CD" stroke="#FFC107" stroke-width="2"/>
  <text x="700" y="535" font-family="Arial" font-size="12" font-weight="bold" fill="#333" text-anchor="middle">Logged in?</text>
  
  <!-- No Path - to Login -->
  <path d="M 620 530 L 450 530" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="520" y="520" font-family="Arial" font-size="12" fill="#dc3545" font-weight="bold">No</text>
  
  <rect x="320" y="500" width="130" height="60" fill="#ffffff" rx="8" stroke="#dc3545" stroke-width="2"/>
  <text x="385" y="525" font-family="Arial" font-size="14" font-weight="bold" fill="#333" text-anchor="middle">Login</text>
  <text x="385" y="545" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">(login.html)</text>
  
  <!-- Return from Login -->
  <path d="M 385 500 L 385 420 L 620 420" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  
  <!-- Yes Path - to Booking -->
  <path d="M 700 570 L 700 610" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="720" y="595" font-family="Arial" font-size="12" fill="#28a745" font-weight="bold">Yes</text>
  
  <!-- Step 4: Booking Page -->
  <rect x="620" y="610" width="160" height="60" fill="#ffffff" rx="8" stroke="#7C5CFF" stroke-width="2"/>
  <text x="700" y="635" font-family="Arial" font-size="14" font-weight="bold" fill="#333" text-anchor="middle">Booking Form</text>
  <text x="700" y="655" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">(book.html)</text>
  
  <!-- Arrow 5 -->
  <path d="M 700 670 L 700 710" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 5: Payment Processing -->
  <rect x="620" y="710" width="160" height="60" fill="#ffffff" rx="8" stroke="#00D4FF" stroke-width="2"/>
  <text x="700" y="735" font-family="Arial" font-size="14" font-weight="bold" fill="#333" text-anchor="middle">Stripe Payment</text>
  <text x="700" y="755" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">(checkout API)</text>
  
  <!-- Arrow 6 -->
  <path d="M 700 770 L 700 810" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Decision: Payment Success -->
  <polygon points="700,810 780,850 700,890 620,850" fill="#FFF3CD" stroke="#FFC107" stroke-width="2"/>
  <text x="700" y="855" font-family="Arial" font-size="12" font-weight="bold" fill="#333" text-anchor="middle">Success?</text>
  
  <!-- No Path - Error -->
  <path d="M 780 850 L 950 850" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="850" y="840" font-family="Arial" font-size="12" fill="#dc3545" font-weight="bold">No</text>
  
  <rect x="950" y="820" width="130" height="60" fill="#ffffff" rx="8" stroke="#dc3545" stroke-width="2"/>
  <text x="1015" y="845" font-family="Arial" font-size="14" font-weight="bold" fill="#dc3545" text-anchor="middle">Error</text>
  <text x="1015" y="865" font-family="Arial" font-size="12" fill="#666" text-anchor="middle">Show error</text>
  
  <!-- Return from Error -->
  <path d="M 1015 820 L 1015 640 L 780 640" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <text x="1030" y="730" font-family="Arial" font-size="11" fill="#666">Retry</text>
  
  <!-- Yes Path - Success -->
  <path d="M 700 890 L 700 930" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="720" y="915" font-family="Arial" font-size="12" fill="#28a745" font-weight="bold">Yes</text>
  
  <!-- End Node -->
  <ellipse cx="700" cy="960" rx="100" ry="30" fill="#28a745" stroke="#1e7e34" stroke-width="2"/>
  <text x="700" y="970" font-family="Arial" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">Confirmation ✓</text>
  
  <!-- Legend -->
  <rect x="50" y="100" width="200" height="180" fill="#ffffff" rx="8" stroke="#e0e0e0" stroke-width="2"/>
  <text x="150" y="130" font-family="Arial" font-size="16" font-weight="bold" fill="#333" text-anchor="middle">Legend</text>
  
  <rect x="70" y="150" width="60" height="30" fill="#ffffff" rx="4" stroke="#7C5CFF" stroke-width="2"/>
  <text x="140" y="170" font-family="Arial" font-size="12" fill="#333">Page/Screen</text>
  
  <polygon points="100,200 120,215 100,230 80,215" fill="#FFF3CD" stroke="#FFC107" stroke-width="2"/>
  <text x="140" y="220" font-family="Arial" font-size="12" fill="#333">Decision</text>
  
  <ellipse cx="100" cy="255" rx="30" ry="15" fill="#28a745" stroke="#1e7e34" stroke-width="2"/>
  <text x="140" y="262" font-family="Arial" font-size="12" fill="#333">Start/End</text>
  
  <!-- Side Note: Backend APIs -->
  <rect x="1050" y="350" width="280" height="250" fill="#ffffff" rx="8" stroke="#00D4FF" stroke-width="2"/>
  <text x="1190" y="385" font-family="Arial" font-size="16" font-weight="bold" fill="#333" text-anchor="middle">Backend APIs</text>
  <line x1="1070" y1="395" x2="1310" y2="395" stroke="#e0e0e0" stroke-width="1"/>
  
  <text x="1070" y="420" font-family="Arial" font-size="12" fill="#666">• GET /api/Events</text>
  <text x="1070" y="445" font-family="Arial" font-size="12" fill="#666">• GET /api/Events/{id}</text>
  <text x="1070" y="470" font-family="Arial" font-size="12" fill="#666">• GET /api/Categories/{id}</text>
  <text x="1070" y="495" font-family="Arial" font-size="12" fill="#666">• POST /api/Auth/login</text>
  <text x="1070" y="520" font-family="Arial" font-size="12" fill="#666">• POST /api/CheckOut</text>
  <text x="1070" y="545" font-family="Arial" font-size="12" fill="#666">• POST /api/stripe/webhook</text>
  <text x="1070" y="570" font-family="Arial" font-size="12" fill="#7C5CFF">→ Stripe PaymentIntent</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
</svg>
